<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:p="http://primefaces.org/ui">

<h:head>
  <f:attribute name="primefaces.THEME" value="freya-ivy-#{ivyFreyaTheme.mode}" />
  <f:facet name="first">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta name="mobile-web-app-capable" content="yes" />
  </f:facet>
  <title>#{ivy.cm.co('/login/EngineCockpitLoginTitle')}</title>
  <link rel="shortcut icon" href="#{resource['resources/images/favicon.png']}" />
</h:head>

<h:body styleClass="login-body">
  <h:form id="loginForm">
    <div class="login-wrapper">
      <div class="login-panel">
        <div class="logo">
          <p:graphicImage name="resources/images/logo_small.svg" />
        </div>

        <p:focus for="userName" />
        <p:inputText id="userName" autocomplete="off" value="#{loginBean.userName}" required="true" placeholder="#{ivy.cm.co('/login/UserNamePlaceholder')}" />
        <p:password id="password" autocomplete="off"
          value="#{loginBean.password}" required="true"
          placeholder="#{ivy.cm.co('/login/PasswordPlaceholder')}"
          promptLabel="#{ivy.cm.co('/common/PleaseEnterPassword')}"
          goodLabel="#{ivy.cm.co('/common/Good')}"
          weakLabel="#{ivy.cm.co('/common/Weak')}"
          strongLabel="#{ivy.cm.co('/common/Strong')}" />

        <p:commandButton update="@form" id="login" actionListener="#{loginBean.login}" value="#{ivy.cm.co('/login/SignInButton')}" icon="si si-login-3" ajax="false"/>
        <p:messages globalOnly="true" id="loginMessage" />
        
        <h:panelGroup rendered="#{loginBean.OAuthProvider != null}" styleClass="oauth-providers">
          <h:outputLink value="#{loginBean.OAuthProvider.link}">
            <h:outputText value="#{loginBean.OAuthProvider.image}" escape="false" />
            <span style="position: relative; bottom: 5px;">
              #{ivy.cm.co('/login/LogInWith')} <h:outputText value="#{loginBean.OAuthProvider.displayName}" />
            </span>
          </h:outputLink>
        </h:panelGroup>
        
        <h:panelGroup rendered="#{!engineModeBean.isMaintenance() and !administratorBean.hasAdmins()}">
          <p>
            #{ivy.cm.co('/login/NoAdministratorsConfiguredFirstPart')}<a href="#{advisorBean.getEngineGuideBaseUrl()}/configuration/files/ivy-yaml.html">#{ivy.cm.co('/login/IvyYamlFile')}</a>
            #{ivy.cm.co('/login/NoAdministratorsConfiguredSecondPart')}
          </p>
        </h:panelGroup>
      </div>
      <div class="login-footer">
        <h4>#{ivy.cm.co('/login/LoginFooterEngineCockpit')}</h4>
        <h6>#{ivy.cm.co('/login/LoginFooterCopyright')}</h6>
      </div>
    </div>
  </h:form>

  <h:outputStylesheet name="css/layout-ivy-#{ivyFreyaTheme.mode}.css" library="freya-layout" />
  <h:outputStylesheet name="primeflex-3.min.css" library="primeflex" />
  <h:outputStylesheet name="resources/css/engine-cockpit.css" />
</h:body>

</html>
