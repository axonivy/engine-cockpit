<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions" xmlns:cc="http://java.sun.com/jsf/composite/composite">
<h:body>
  <ui:composition template="../includes/template/charts-template.xhtml">

    <ui:define name="breadcrumb">
      <li><span>Services</span></li>
      <li>/</li>
      <li><a href="email.xhtml">Email</a></li>
    </ui:define>

    <ui:define name="topbar-items">
      <cc:TopBarItem href="#{advisorBean.cockpitEngineGuideUrl}services.html#email" />
    </ui:define>

    <ui:define name="content">
      <div class="card">
        <p:growl id="emailSaveSuccess" for="emailSaveSuccess">
          <p:autoUpdate />
        </p:growl>
        <div class="p-d-flex p-ai-center p-mb-3">
          <i class="p-pr-3 si si-email-action-unread card-title-icon"></i>
          <h2 class="p-m-0">Email</h2>
        </div>
        <cc:SecuritySystemTabs tabChange="#{securitySystemEmailBean.reloadEmailSettings}" id="tabs">
          <h:form id="form">
            <cc:EmailSettings emailSettings="#{securitySystemEmailBean.emailSettings}" id="emailSetting">
                <p:outputLabel value="Mail Process" for="mailProcess" />
						    <p:selectOneMenu id="mailProcess" value="#{cc.attrs.emailSettings.mailProcess}" style="width: 100%;">
						      <f:selectItems value="#{cc.attrs.emailSettings.mailProcesses}" />
						      <p:ajax update="@form" />
						    </p:selectOneMenu>
              </cc:EmailSettings>
            <div class="p-d-flex p-jc-end">
              <p:commandButton actionListener="#{securitySystemEmailBean.saveEmailSettings}" value="Save"
                icon="si si-floppy-disk" id="saveEmailSettings" />
            </div>
          </h:form>
        </cc:SecuritySystemTabs>
      </div>
    </ui:define>

    <ui:define name="live-stats">
      <cc:Sidebar>
        <cc:LiveStats monitor="#{mailClientMonitorBean.sentMonitor}" id="mailsSent" />
        <cc:LiveStats monitor="#{mailClientMonitorBean.executionTimeMonitor}" id="mailsExecutionTime" />
      </cc:Sidebar>
    </ui:define>
  </ui:composition>
</h:body>

</html>
