<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:cc="http://xmlns.jcp.org/jsf/composite/composite">
<h:body>
  <ui:composition template="../includes/template/info-template.xhtml">

    <ui:define name="title">#{ivyAdvisor.applicationName} #{ivyAdvisor.versionShort}</ui:define>
  
    <ui:define name="content">
      <h:outputText rendered="#{engineInfo.maintenance}">
        <div class="flex flex-wrap align-items-stretch">
          <h:outputText rendered="#{engineInfo.maintenance}">
            <div class="col">
              <div class="card card-item card-item-big">
                <div>
                  <i class="si si-tools-wench container-icon-big" />
                </div>
                <div>
                  <h5>Maintenance Mode</h5>
                </div>
                <div class="card-item-text">
                  <p>
                    <b>#{engineInfo.maintenanceReason}</b>
                  </p>
                  <p>
                    Therefore the 
                    Axon Ivy Engine is currently operating in
                    maintenance mode.
                    If your setup is broken for example because the
                    Axon Ivy Engine can not connect to the system database
                    or the licence has been expired, then go 
                    <b><a href="setup.xhtml">Setup Wizard</a></b> to fix it.
                    If the Axon Ivy Engine
                    has undergone an update, it is essential to initiate
                    the <b><a href="migrate.xhtml">Migration Wizard</a></b> to ensure that the existing
                    instance is fully operational. This process is
                    crucial for maintaining the functionality and
                    integrity of the system.
                  </p>
                </div>
              </div>
            </div>
          </h:outputText>
        </div>
      </h:outputText>

      <h:outputText rendered="#{engineInfo.demo or engineInfo.neo}">
        <div class="flex flex-wrap align-items-stretch">
          <h:outputText rendered="#{engineInfo.demo}">
            <div class="col">
              <div class="card card-item card-item-big">
                <div>
                  <i class="si si-layout-dashboard container-icon-big" />
                </div>
                <div>
                  <h5>Demo Portal</h5>
                </div>
                <div class="card-item-text">
                  <p>The demo portal offers the perfect entry point
                    to explore and experience the powerful features of
                    the Axon Ivy platform as a workflow engine. It
                    allows users to discover how easily complex business
                    processes can be automated, streamlined, and
                    optimized. Whether you're looking to manage tasks,
                    integrate systems, or orchestrate workflows across
                    departments, the platform provides intuitive tools
                    and a flexible environment to meet your business
                    needs.</p>
                </div>
                <div class="card-item-open">
                  <p:link href="#{engineInfo.demoPortalUrl}" styleClass="card-item-open-link">Open 〉</p:link>
                </div>
              </div>
            </div>
          </h:outputText>

          <h:outputText rendered="#{engineInfo.neo}">
            <div class="col">
              <div class="card card-item card-item-big">
                <div style="">
                  <i class="si si-share container-icon-big" />
                </div>
                <div>
                  <h5>NEO Designer</h5>
                </div>
                <div class="card-item-text">
                  <p>NEO Designer is a low-code platform that
                    accelerates application development by using visual
                    tools and pre-built components, enabling seamless
                    collaboration between business users and developers.
                    This platform simplifies the automation of business
                    tasks, streamlining the development process and
                    reducing complexity. Designed to enhance efficiency,
                    NEO Designer supports the rapid deployment of
                    scalable applications, tailored to meet specific
                    business needs effectively.</p>
                </div>
                <div class="card-item-open">
                  <p:link href="/neo" styleClass="card-item-open-link">Open 〉</p:link>
                </div>
              </div>
            </div>
          </h:outputText>
        </div>
      </h:outputText>

      <h:outputText rendered="#{engineInfo.showApps}">
        <div class="col">
          <h3>Applications</h3>
          <hr />
          
          <div class="flex flex-wrap align-items-stretch">
            <ui:repeat value="#{engineInfo.applications}" var="app">
              <div class="app-item">
                <div class="card card-center card-item card-item-app flex justify-content-center">
    
                  <div class="container-icon flex justify-content-center">
                    <div class="flex-1">
                      <i class="si si-module icon-app" />
                    </div>
                    <div class="flex flex-1 justify-content-end">
                      <p:linkButton href="#{app.devWorkflowUrl}" rendered="#{!app.disabled}" icon="si si-cog-play" styleClass="flex-shrink-0 ml-auto rounded-button ui-button-outlined" />
                    </div>
                  </div>
                  
                  <div class="card-item-app-name flex-1">
                    <h5>#{app.name}</h5>
                  </div>
                  <div>
                    <h:panelGroup id="action">
                      <p:linkButton id="button" href="#{app.homeUrl}" value="Open" style="font-weight:600;" disabled="#{app.disabled}" />
                      <p:tooltip for="action" rendered="#{app.disabled}" value="This app has no active projects." position="bottom" />
                    </h:panelGroup>
                  </div>
                </div>
              </div>
            </ui:repeat>
          </div>
        </div>
      </h:outputText>

      <h:outputText rendered="#{engineInfo.showNoApps}">
        <div class="col">
          <h3>Applications</h3>
          <hr />
          <div class="flex flex-wrap align-items-stretch">
            <div class="col">
              <div class="card card-item card-center card-item-app">
                <div
                  style="margin-bottom: 30px; display: flex; justify-content: center; margin-top: 20px;">
                  <div style="position: absolute; left: 48%;">
                    <i class="si si-tools-wench container-icon-big" />
                  </div>
                  <div style="margin-left: auto;">
                    <p:link href="#{ivyAdvisor.advisor.docBaseUrl}">
                      <i class="si si-office-file-doc-1 "
                        style="font-size: 22px;" />
                    </p:link>
                  </div>
                </div>
                <div>
                  <h3>No applications</h3>
                </div>
                <div>
                  <p>Install your application in the Engine Cockpit.</p>
                </div>
                <div class="mt-5 flex-1" style="margin-bottom: 20px;">
                  <p:linkButton id="noAppCockpit"
                    href="#{engineInfo.engineCockpitUrl}/faces/applications.xhtml"
                    value="Engine Cockpit" icon="si si-cog" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </h:outputText>

      <style>
          .icon-app {
            font-size: 42px;
            color: var(--ivy-primary-color);
          }
          
          .layout-content .message-block {
            margin: 0 0.5rem;
          }
          
          .layout-content .message-block .ui-message {
            margin: 0 0 10px 0;
            width: 100%;
          }

          .layout-content .card-center {
            text-align: center;
          }

          .card-item-text {
            margin-bottom: 20px;
            flex-grow: 1;
          }
          
          .card-item-open {
            text-align: right;
            align-self: flex-end;
          }
          
          .card-item-big {
            flex-direction:column;
            display:flex;
            height:100%;
          }
          
          .card-item-app {
            height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
          }
          
          .app-item {
             flex: 1 0 24%;
             margin: 5px;
          }
          
          .card-item-open .card-item-open-link {
            font-size: 20px;
          }
          
          .container-icon {
            margin-bottom: 20px;
          }
          
          .container-icon:before {
            content: "";
            flex: 1;
          }
          
          .container-icon-big {
            font-size: 36px;
            color: var(--ivy-primary-color);
            margin-bottom: 15px;
          }
      </style>
    </ui:define>
  </ui:composition>
</h:body>
</html>

