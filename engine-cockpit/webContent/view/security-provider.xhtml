<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions" xmlns:cc="http://java.sun.com/jsf/composite/composite">

<h:body>
  <f:metadata>
    <f:viewParam name="securitySystemName" value="#{identityProviderBean.securitySystemName}" />
    <f:viewAction action="#{identityProviderBean.onload}" />
  </f:metadata>

  <ui:composition template="../includes/template/template.xhtml">

    <ui:define name="breadcrumb">
      <li><span>Security</span></li>
      <li>/</li>
      <li><a href="securitysystem.xhtml">Security Systems</a></li>
      <li>/</li>      
      <li><a href="#{identityProviderBean.securitySystemLink}">#{identityProviderBean.securitySystemName}</a></li>
      <li>/</li>
      <li>#{identityProviderBean.identityProviderName}</li>
    </ui:define>

    <ui:define name="topbar-items">
      <cc:TopBarItem href="#{advisorBean.cockpitEngineGuideUrl}security.html#security-system-detail" />
    </ui:define>

    <ui:define name="content">
      <div class="layout-dashboard">
        <div class="p-grid">
          <h:panelGroup>
            <div class="p-col-12 p-md-12 p-xl-12">
              <div class="card">
                <h:form id="securityIdentityProviderForm">
                  <p:growl id="securityIdentityProviderSaveSuccess" for="securityIdentityProviderSaveSuccess">
                    <p:autoUpdate />
                  </p:growl>
                  <div class="card-header">
                    <div class="card-title p-d-flex p-ai-center">
                      <i class="p-pr-3 si si-information-circle"></i>
                      <h6 class="p-m-0">Configuration</h6>
                      <p:commandButton title="Save" icon="si si-floppy-disk" id="save" styleClass="p-col-fixed p-ml-auto p-ml-1 ui-button-success rounded-button" actionListener="#{identityProviderBean.save}"/>
                    </div>
                  </div>
                  <p:repeat var="property" id="property" value="#{identityProviderBean.properties}">
                    <ui:fragment>
                      <p:panelGrid columns="2" layout="flex" columnClasses="p-col-12 p-md-2 p-lg-2, p-col-12 p-md-10 p-lg-10" styleClass="grey-label-panel ui-fluid">
                        <p:outputLabel value="#{property.name}" />
                        <h:panelGroup  styleClass="md-inputfield">
                          
                          <p:inputText id="propertyString" value="#{property.value}" rendered="#{property.string}" />
                          <p:password id="propertyPassword" value="#{property.value}" placeholder="#{property.passwordPlaceholder}" rendered="#{property.password}"></p:password>
                          
                          <small class="block">#{property.description}</small>
                        </h:panelGroup>
                     </p:panelGrid>
                    </ui:fragment>
                  </p:repeat>
                </h:form>
              </div>
            </div>
          </h:panelGroup>
        </div>
      </div>
    </ui:define>
  </ui:composition>
</h:body>
</html>
