<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:cc="http://java.sun.com/jsf/composite/composite">
<h:body>
  <ui:composition template="../includes/template/template.xhtml">

    <ui:define name="breadcrumb">
      <li>Monitor</li>
      <li>/</li>
      <li>Engine</li>
      <li>/</li>
      <li><a href="monitorCache.xhtml">Caches</a></li>
    </ui:define>

    <ui:define name="breadcrumb-right">
      <a
        href="#{advisorBean.cockpitEngineGuideUrl}monitor.html#Cache"
        target="_blank" rel="noopener noreferrer"> <i
        class="si si-lg si-question-circle"></i>
      </a>
    </ui:define>

    <ui:define name="content">
      <cc:SingleCard id="cache">
        <div class="card card-w-title">
          <div class="ui-g">
            <div class="ui-g-12 ui-md-10">
              <h1>
                <i class="si si-monitor-heart-beat-search card-title-icon"></i>Caches
              </h1>
            </div>
          </div>
          <h:form id="form">
            <p:dataTable var="cache" value="#{cacheBean.caches}"
              widgetVar="cacheTable"
              filteredValue="#{cacheBean.filteredCaches}"
              id="cacheTable">
              <f:facet name="header">
                <p:outputPanel>
                  <p:outputLabel styleClass="table-search-icon">
                    <i class="si si-search"></i>
                  </p:outputLabel>
                  <p:inputText styleClass="table-search-input-withicon"
                    id="globalFilter" onkeyup="PF('cacheTable').filter()"
                    placeholder="Search" value="#{cacheBean.filter}" />
                </p:outputPanel>
              </f:facet>
              <p:column headerText="Name" sortBy="#{cache.name}" filterBy="#{cache.name}">
                <h:outputText value="#{cache.name}" styleClass="">
                </h:outputText>
              </p:column>
              <p:column style="width: 100px;" headerText="Count" sortBy="#{cache.count}">
                <h:outputText value="#{cache.count}" styleClass="#{cache.countStyle}">
                </h:outputText>
              </p:column>
              <p:column style="width: 100px;" headerText="Limit" sortBy="#{cache.limit}">
                <h:outputText value="#{cache.limit}">
                </h:outputText>
              </p:column>
              <p:column style="width: 110px;" headerText="Read Hits" sortBy="#{cache.readHits}">
                <h:outputText value="#{cache.readHits}">
                </h:outputText>
              </p:column>
              <p:column style="width: 130px;" headerText="Read Misses" sortBy="#{cache.readMisses}">
                <h:outputText value="#{cache.readMisses}" styleClass="#{cache.readMissesStyle}">
                </h:outputText>
              </p:column>
              <p:column style="width: 100px;" headerText="Writes" sortBy="#{cache.writes}">
                <h:outputText value="#{cache.writes}">
                </h:outputText>
              </p:column>
              <p:column style="width: 112px;" headerText="Info" sortBy="#{cache.info}">
                <h:outputText value="#{cache.info}">
                </h:outputText>
              </p:column>
              <p:column style="width: 50px;">
                <p:commandButton title="Clear" id="clearButton" icon="si si-bin-1" disabled="#{cache.notClearable}"
                    type="button" style="margin-right: 10px;" styleClass="blue-btn">
                  <p:ajax update="cache:form" listener="#{cache.clear}"/>
                </p:commandButton>
              </p:column>
              
            </p:dataTable>
          </h:form>
        </div>
      </cc:SingleCard>
    </ui:define>
  </ui:composition>
</h:body>
</html>
