<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions" xmlns:pm="http://primefaces.org/mobile"
  xmlns:cc="http://java.sun.com/jsf/composite/composite">
<h:body>
  <ui:composition template="/template/template.xhtml">
    <ui:define name="title">Advanced Config</ui:define>

    <ui:define name="breadcrumb">
      <li><a href="advancedconfig.xhtml">Advanced Config</a></li>
    </ui:define>

    <ui:define name="content">
      <cc:SingleCard>
        <div class="card card-w-title">
          <div class="ui-g">
            <div class="ui-g-12 ui-md-10">
              <h1>
                <i class="material-icons card-title-icon">settings</i>
                <span>Advanced Config</span>
              </h1>
            </div>
            <div class="ui-g-12 ui-md-2" style="margin: auto;">
              <p:commandButton rendered="false" id="newConfigBtn" value="New" icon="ui-icon-add" type="button"/>
            </div>
          </div>
          <div class="ui-g">
            <div class="ui-g-12 ui-lg-12">
              <h:form id="form">
                <p:growl id="msgs" showDetail="true" />
                <p:dataTable var="config" value="#{advancedConfigBean.configs}" widgetVar="advancedConfigTable"
                  filteredValue="#{advancedConfigBean.filteredConfigs}">
                  <f:facet name="header">
                    <p:outputPanel>
                      <p:outputLabel styleClass="table-search-icon">
                        <i class="material-icons">search</i>
                      </p:outputLabel>
                      <p:inputText styleClass="table-search-input-withicon" id="globalFilter"
                        onkeyup="PF('advancedConfigTable').filter()" placeholder="Search" />
                    </p:outputPanel>
                  </f:facet>
                  <p:ajax event="rowSelect" listener="#{advancedConfigBean.onRowSelect}" update="@form" />
                  <p:column headerText="Name" sortBy="#{config.key}" filterBy="#{config.key}">
                    <h:outputText value="#{config.key}" title="#{config.key}" styleClass="config-name">
                      <i class="material-icons table-icon">#{config.password ? 'vpn_key' : 'settings'}</i>
                    </h:outputText>
                  </p:column>
                  <p:column headerText="Value" filterBy="#{config.value}">
                    <h:outputText value="#{config.password ? '******' : config.value}" />
                  </p:column>
                  <p:column headerText="Location" sortBy="#{config.shortSource}" filterBy="#{config.shortSource}" style="width: 100px;">
                    <h:outputText value="#{config.shortSource}" title="#{config.source}" />
                    <i class="material-icons" style="float: right; font-size: 20px;">find_in_page</i>
                  </p:column>
                </p:dataTable>
              </h:form>
            </div>
          </div>
        </div>
      </cc:SingleCard>
    </ui:define>
  </ui:composition>
</h:body>
</html>