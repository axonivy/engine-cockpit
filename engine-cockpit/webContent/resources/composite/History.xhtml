<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui">
<cc:interface>
  <cc:attribute name="bean" required="true" />
</cc:interface>
<cc:implementation>
  <div class="card">
  <h:form id="execHistoryForm" style="overflow: auto;">
    <div class="card-header">
      <div class="card-title flex align-items-center">
        <i class="pr-3 si si-optimization-timer"></i>
        <h6 class="m-0">Execution History (last 200)</h6>
      </div>
    </div>
    
    <p:dataTable value="#{cc.attrs.bean.executionHistory}" 
      var="exec" id="execHistoryTable" paginator="true" rows="10" paginatorPosition="bottom"
      paginatorAlwaysVisible="false" style="min-width: 800px;">
      
      <p:column headerText="Time" style="width: 60px; word-wrap: anywhere;" sortBy="#{exec.time}">
        <h:outputText value="#{exec.time}" styleClass="histroy" />
      </p:column>
      <h:panelGroup rendered="#{cc.attrs.bean.identifier != 'Restclient'}">
        <p:column headerText="Endpoint" style="width: 60px; word-wrap: anywhere;" sortBy="#{exec.time}">
          <h:outputText value="#{exec.endpoint}" styleClass="histroy" />
        </p:column>
        <p:column headerText="Webservice" style="width: 60px; word-wrap: anywhere;" sortBy="#{exec.time}">
          <h:outputText value="#{exec.webserviceName}" styleClass="histroy" />
        </p:column>
         </h:panelGroup>
      <h:panelGroup rendered="#{cc.attrs.bean.identifier != 'Webservice'}">
        <p:column headerText="Exec Time" style="width: 60px; word-wrap: anywhere;" sortBy="#{exec.execTime}">
          <h:outputText value="#{exec.execTime}" title="The time needed to execute the statement" />
        </p:column>
        <p:column headerText="Result Time" style="width: 60px; word-wrap: anywhere;" sortBy="#{exec.resultTime}">
          <h:outputText value="#{exec.resultTime}" title="The time needed to read the results of the statement" />
        </p:column>
        <p:column headerText="Process Element" style="width: 75px; word-wrap: anywhere;" sortBy="#{exec.element}">
          <h:outputText value="#{exec.element}" />
        </p:column>
      </h:panelGroup>
    </p:dataTable>
  </h:form>
</div>
</cc:implementation>

</html>
