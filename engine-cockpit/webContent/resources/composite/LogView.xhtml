<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:cc="http://xmlns.jcp.org/jsf/composite"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui">
<cc:interface>
  <cc:attribute name="log" shortDescription="Log File" />
</cc:interface>
<cc:implementation>
<p:panel id="logPanel" toggleable="true" toggleSpeed="200" collapsed="#{logBean.showLog ne cc.attrs.log.fileName}" style="min-height: unset;">
  <f:facet name="header">
    <i class="material-icons table-icon panel-title-icon">format_align_left</i>
    <h:outputText value="#{cc.attrs.log.fileName}" style="width: 100px;" />
    <h:outputText value="#{cc.attrs.log.date}" />
    <h:outputText value="#{cc.attrs.log.size}kB" style="margin-left: 15px;"/>
    <h:outputText value="(download file for full log)" rendered="#{!cc.attrs.log.endReached}" style="margin-left: 15px;" />
  </f:facet>
  <h:form id="fileForm">
    <p:commandButton id="showLog" ajax="false" title="Download Log File" icon="ui-icon-cloud-download"
      styleClass="amber-btn card-button" rendered="#{cc.attrs.log.downloadEnabled}" style="margin-top: -37px; margin-right: 25px;">
      <p:fileDownload value="#{cc.attrs.log.file}" />
    </p:commandButton>
    <pre style="max-height: 500px; overflow-x: auto;"><h:outputText value="#{cc.attrs.log.content}"/></pre>
  </h:form>
</p:panel>
</cc:implementation>
</html>
