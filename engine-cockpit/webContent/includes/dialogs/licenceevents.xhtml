<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<p:dialog id="licenceEventsDialog" header="Licence Events" widgetVar="licenceEventsDialog" modal="true" closeOnEscape="true" width="400px">
  <h:form id="licenceEventForm">
    <div class="dashboard">
      <p:dataList value="#{licenceBean.licenceEvents}" var="event" type="unordered" styleClass="messages"
        style="max-height: 300px; overflow-y: auto;" id="licenceEventList">
        <a href="#">
          <h:outputText rendered="#{event.level eq 'ERROR'}">
            <i class="icon icon-xl ivyicon-alert-circle error"></i>
          </h:outputText>
          <h:outputText rendered="#{event.level eq 'WARN'}">
            <i class="icon icon-xl ivyicon-road-sign-warning warning"></i>
          </h:outputText>
          <h:panelGroup layout="block" id="eventMessage">
            <h:outputText styleClass="name" value="#{event.timestamp}" />
            <h:outputText styleClass="message" value="#{event.message}" />
          </h:panelGroup>
          <p:commandButton icon="icon ivyicon-check-1" title="Confirm" styleClass="message-btn secondary-btn" id="confirmEventBtn"
            actionListener="#{licenceBean.confirmLicenceEvent(event)}" update="@form" style="right: 10px;" />
        </a>
      </p:dataList>
      <p:commandButton id="confirmAllLicenceEvents" ajax="false" style="width: 120px;"
        actionListener="#{licenceBean.confirmAllLicenceEvents()}" value="Confirm all" icon="icon ivyicon-check-double-1"
        styleClass="modal-input-button" />
      <p:commandLink id="closeLicenceEventsDialog" onclick="PF('licenceEventsDialog').hide();" value="Close" type="button"
        styleClass="modal-input-button" />
    </div>
  </h:form>
</p:dialog>
</html>