<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions">
  
  <style>
  .box {
    background-color: var(--ivy-primary-color-light);
    text-align: center;
    padding: 1em 0.5em;
    border-radius: 4px;
  }
  .box.free {
    background-color: var(--ivy-tertinary-color-green-light);
  }
  </style>
  
  <p:panel styleClass="min-height-350" id="weekConfigurationPanel">
    <f:facet name="header">
      <i class="icon ivyicon-cog table-icon panel-title-icon"></i>
      Week configuration
    </f:facet>
    
    <div class="p-grid">
      <p:repeat var="day" value="#{businessCalendarBean.activeCalendar.week}">
        <div class="p-col">
          <div class="box #{day.free ? 'free' : ''}" title="#{day.free ? 'free' : 'work'}">#{day.dayName}</div>
        </div>
      </p:repeat>
    </div>
    
    <p:dataTable var="workingTime" value="#{businessCalendarBean.activeCalendar.workingTimes}">
      <p:column headerText="Working time">
        <h:outputText value="#{workingTime.desc}" />
      </p:column>
   
      <p:column headerText="From to">
        <h:outputText value="#{workingTime.value}" title="#{workingTime.tooltip}">
          <i class="icon ivyicon-#{workingTime.icon} table-icon"></i>
        </h:outputText>
      </p:column>
      
      <p:column headerText="Defined by">
        <a href="businesscalendar-detail.xhtml?calendarName=#{workingTime.calendarName}">
          <h:outputText value="#{workingTime.calendarName}">
            <i class="icon ivyicon-calendar table-icon"></i>
          </h:outputText>
        </a>
      </p:column>
    </p:dataTable>
  </p:panel>
  
</html>