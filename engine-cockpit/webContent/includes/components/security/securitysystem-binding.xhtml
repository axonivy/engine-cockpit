<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
  xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui"
  xmlns:cc="http://java.sun.com/jsf/composite/composite">

<f:facet name="header">
  <i class="material-icons table-icon panel-title-icon">link</i>
  <h:outputText value="Binding" />
</f:facet>
<h:form id="securitySystemBindingForm">
  <p:growl id="securitySystemBindingSaveSuccess" for="securitySystemBindingSaveSuccess">
    <p:autoUpdate/>
  </p:growl>
  <p:commandButton title="Save" icon="ui-icon-save" id="saveSecuritySystemBindingBtn"
    styleClass="accent-btn card-button" actionListener="#{securityConfigDetailBean.saveBinding}" />

  <p:panelGrid columns="2" columnClasses="ui-grid-col-4, ui-grid-col-8"
    layout="grid" styleClass="ui-panelgrid-blank grey-label-panel">

    <p:outputLabel for="defaultContext" value="Default Context"/>
    <h:panelGroup>
      <p:inputText id="defaultContext" style="width: calc(100% - 32px);"
        value="#{securityConfigDetailBean.defaultContext}" />
      <p:commandButton id="browseDefaultContext" icon="ui-icon-language" title="Browse" styleClass="primary-btn" style="right: -6px;"
        actionListener="#{securityConfigDetailBean.browseDefaultContext()}" update="ldapBrowser:ldapBrowserDialog" oncomplete="PF('ldapBrowserDialog').show();"/>
    </h:panelGroup>

    <p:outputLabel for="importUsersOfGroup" value="Import Users Of Group"/>
    <h:panelGroup>
      <p:inputText id="importUsersOfGroup" style="width: calc(100% - 32px);"
        value="#{securityConfigDetailBean.importUsersOfGroup}" />
      <p:commandButton id="browseImportUserOfGroup" icon="ui-icon-language" title="Browse" styleClass="primary-btn" style="right: -6px;"
        actionListener="#{securityConfigDetailBean.browseUsersOfGroup()}" update="ldapBrowser:ldapBrowserDialog" oncomplete="PF('ldapBrowserDialog').show();"/>
    </h:panelGroup>

    <p:outputLabel for="userFilter" value="User Filter"/>
    <p:inputText id="userFilter"
      value="#{securityConfigDetailBean.userFilter}"
      placeholder="#{securityDefaultValueBean.specificDefaults.userFilter}" />

  </p:panelGrid>
</h:form>
<cc:LdapBrowser updateFields="securitySystemBindingForm" ldapBrowser="#{securityConfigDetailBean.ldapBrowser}" 
  returnListener="#{securityConfigDetailBean.chooseLdapName()}" id="ldapBrowser" />
</html>