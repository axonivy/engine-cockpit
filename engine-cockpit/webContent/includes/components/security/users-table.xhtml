<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions">

<h:form id="tableForm">
  <p:dataTable paginator="true" rows="20" rowsPerPageTemplate="10,20,50" paginatorPosition="bottom"
    paginatorAlwaysVisible="false"
    paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
    var="user" value="#{userBean.userDataModel}" widgetVar="usersTable_#{app.id}" lazy="true" styleClass="userTable"
    id="userTable">
    <f:facet name="header">
      <p:outputPanel>
        <p:outputLabel styleClass="table-search-icon">
          <i class="si si-search"></i>
        </p:outputLabel>
        <p:inputText styleClass="table-search-input-withicon" id="globalFilter"
          onkeyup="PF('usersTable_#{app.id}').filter()" placeholder="Search" value="#{userBean.filter}" />
      </p:outputPanel>
    </f:facet>
    <p:column headerText="Name" sortBy="#{user.name}" styleClass="user-name-column">
      <a href="userdetail.xhtml?userName=#{user.name}">
        <h:outputText value="#{user.name}" styleClass="user-name">
          <i class="si si-single-neutral-actions table-icon"></i>
          <img name="#{user.name}" src="#{user.avatarUri}" class="avatar avatar-small"/>          
        </h:outputText>
        <h:outputText value=" [External: '#{user.externalNameShort}']" title="#{user.externalName}"
          rendered="#{user.external}" styleClass="addition-row-info" />
        <h:outputText value=" [Disabled]" rendered="#{!user.enabled}" styleClass="addition-row-info" />
      </a>
    </p:column>
    <p:column headerText="Full Name" sortBy="#{user.fullName}">
      <h:outputText value="#{user.fullName}" styleClass="user-fullname" />
    </p:column>
    <p:column headerText="Email" sortBy="#{user.email}">
      <h:outputText value="#{user.email}" styleClass="user-email" />
    </p:column>
    <p:column headerText="Logged in" style="width: 100px; text-align: center">
      <h:outputText>
        <i
          class="si table-icon si-#{user.loggedIn ? 'check-circle-1 state-active' : 'remove-circle state-inactive'}"></i>
      </h:outputText>
    </p:column>
  </p:dataTable>
</h:form>

</html>
