<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:cc="http://java.sun.com/jsf/composite/composite">

<div class="card">
  <h:form id="securityLdapBindingForm">
    <p:growl id="securityLdapBindingSaveSuccess" for="securityLdapBindingSaveSuccess">
      <p:autoUpdate />
    </p:growl>
    <div class="card-header">
      <div class="card-title p-d-flex p-ai-center">
        <i class="p-pr-3 si si-hyperlink-3"></i>
        <h6 class="p-m-0">Binding</h6>
        <p:commandButton title="Save" icon="si si-floppy-disk" id="saveLdapBindingBtn"
          styleClass="p-col-fixed p-ml-auto ui-button-success rounded-button" actionListener="#{securityLdapBean.saveBinding}" />
      </div>
    </div>
    
    <p:panelGrid columns="2" columnClasses="p-col-12 p-md-4 p-lg-4, p-col-12 p-md-8 p-lg-8" layout="flex"
      styleClass="grey-label-panel ui-fluid">
      <p:outputLabel for="defaultContext" value="Default Context" />
      <h:panelGroup layout="block" styleClass="ui-inputgroup">
        <p:inputText id="defaultContext" value="#{securityLdapBean.defaultContext}" />
        <p:commandButton id="browseDefaultContext" icon="si si-network-browser" title="Browse" 
          actionListener="#{securityLdapBean.browseDefaultContext()}" update="ldapBrowser:ldapBrowserDialog"
          oncomplete="PF('ldapBrowserDialog').show();" />
      </h:panelGroup>
  
      <p:outputLabel for="importUsersOfGroup" value="Import Users Of Group" />
      <h:panelGroup layout="block" styleClass="ui-inputgroup">
        <p:inputText id="importUsersOfGroup" value="#{securityLdapBean.importUsersOfGroup}" />
        <p:commandButton id="browseImportUserOfGroup" icon="si si-network-browser" title="Browse" 
          actionListener="#{securityLdapBean.browseUsersOfGroup()}"
          update="ldapBrowser:ldapBrowserDialog" oncomplete="PF('ldapBrowserDialog').show();" />
      </h:panelGroup>
      
      <p:outputLabel for="userFilter" value="User Filter" />
      <p:inputText id="userFilter" value="#{securityLdapBean.userFilter}"
        placeholder="#{securityDefaultValueBean.userFilter}" />
    </p:panelGrid>
  </h:form>
</div>
<cc:DirectoryBrowser updateFields="securityLdapBindingForm" browser="#{securityLdapBean.ldapBrowser}"
  returnListener="#{securityLdapBean.chooseLdapName()}" id="ldapBrowser" />

</html>
