<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions">

<body>
  <ui:composition>
    <!-- Exception Handler for ViewExpiredExceptions -->
    <p:ajaxExceptionHandler type="javax.faces.application.ViewExpiredException" update="viewExpiredExceptionDialog"
      onexception="PF('viewExpiredExceptionDialog').show();" />

    <!-- Error Dialog shown if a view or session has expired -->
    <p:dialog id="viewExpiredExceptionDialog" header="#{ivy.cm.co('/exception/ViewExpiredExceptionDialogHeader')}" widgetVar="viewExpiredExceptionDialog"
      height="150px" modal="true">
      <h1>
        <h:outputText value="#{ivy.cm.co('/exception/ViewExpiredExceptionDialogContent')}" />
      </h1>
      <br />
      <p:button href="login.xhtml" value="#{ivy.cm.co('/common/Login')}" icon="si si-login-3" />
    </p:dialog>

    <!--  Exception Handler for any other Exception -->
    <p:ajaxExceptionHandler update="ajaxExceptionDialog" onexception="PF('ajaxExceptionDialog').show();" />

    <!-- Error Dialog to show Exceptions -->
    <p:dialog id="ajaxExceptionDialog" header="#{ivy.cm.co('/exception/AjaxExceptionDialogHeader')}" widgetVar="ajaxExceptionDialog" modal="true" closeOnEscape="true"
      height="400px" style="max-width: calc(100% - 300px); min-width: 300px;">
      <ui:include src="exception-details.xhtml" />
    </p:dialog>

  </ui:composition>
</body>

</html>
