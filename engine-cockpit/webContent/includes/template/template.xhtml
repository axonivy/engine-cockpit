<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" lang="en">
<f:view beforePhase="#{loginBean.checkLogin()}" />

<h:head>
  <f:attribute name="primefaces.THEME" value="serenity-ivy" />
  <f:facet name="first">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
  </f:facet>
  <title>
    <ui:insert name="title">Engine Cockpit</ui:insert>
  </title>

  <link rel="shortcut icon" href="#{resource['ivy-webcontent:resources/images/ivy_favicon_48.png']}" />

  <h:outputScript name="js/nanoscroller.js" library="serenity-layout" />
  <h:outputScript name="js/layout.js" library="serenity-layout" />
  <h:outputScript name="js/ripple.js" library="serenity-layout" />
  <h:outputScript name="resources/js/polyfill.js" />
  <h:outputScript name="resources/js/highlight.pack.js" />
  <h:outputScript name="resources/js/engine-cockpit.js" />
  <h:outputScript name="resources/js/sidebar-fix.js" />
  <h:outputScript name="resources/js/file-upload.js" />
  <ui:insert name="head" />
</h:head>

<h:body>
  <div class="layout-wrapper layout-wrapper-static">
    <ui:include src="./sidebar.xhtml" />

    <div class="layout-main">
      <ui:include src="./topbar.xhtml" />

      <div class="layout-breadcrumb">
        <ul>
          <li><a href="dashboard.xhtml"><i class="si si-lg si-house-chimney-2"></i></a></li>
          <li>/</li>
          <ui:insert name="breadcrumb" />
        </ul>
        <div class="layout-breadcrumb-options" id="breadcrumbOptions">
          <ui:insert name="breadcrumb-right" />
        </div>
      </div>

      <div class="layout-content">
        <h:panelGroup layout="block" rendered="#{clusterBean.clusterServer}" 
          styleClass="ui-message ui-staticmessage ui-message-warn">
          <span class="ui-message-warn-icon"></span>
          <span class="ui-message-warn-summary">Cluster Mode!</span>
          <span class="ui-message-warn-detail">Configuration changes may only be applied on local node!
            <p:link value="More info" href="#{advisorBean.engineGuideBaseUrl}/integration/cluster/" target="_blank"/>
          </span>
        </h:panelGroup>
        <ui:insert name="content" />
      </div>

      <ui:insert name="sidebar" />

      <div class="layout-main-mask"></div>
    </div>
  </div>

  <ui:include src="progress-loader.xhtml" />

  <ui:include src="exception.xhtml" />

  <h:outputStylesheet name="resources/css/highlight-default.css" />
  <h:outputStylesheet name="css/nanoscroller.css" library="serenity-layout" />
  <h:outputStylesheet name="css/ripple.css" library="serenity-layout" />
  <h:outputStylesheet name="css/layout-ivy.css" library="serenity-layout" />
  <h:outputStylesheet name="css/cockpit.css" library="serenity-layout" />
  <h:outputStylesheet name="css/primeflex.min.css" library="serenity-layout" />
  <h:outputStylesheet name="resources/css/engine-cockpit.css" />
  <h:outputStylesheet name="resources/css/progress-loader.css" />
</h:body>

</html>
