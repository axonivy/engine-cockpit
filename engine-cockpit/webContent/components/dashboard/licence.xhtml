<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:cc="http://java.sun.com/jsf/composite/composite">

<f:facet name="header">
  <i class="material-icons table-icon panel-title-icon">vpn_key</i>
  <h:outputText value="Licence" />
</f:facet>
<p:commandButton id="tasksButtonLicenceDetail" onclick="PF('licenceDetailDialog').show();" title="Licence Details" type="button"
  icon="ui-icon-info" styleClass="secondary-btn card-button" />
<p:commandButton id="tasksButtonLicence" title="Upload Licence" type="button" icon="ui-icon-cloud-upload"
  styleClass="secondary-btn card-button" rendered="#{!licenceBean.demo}" onclick="PF('fileUploadModal').show()" />
<p:commandButton id="tasksButtonLicenceRenew" title="Renew Licence" type="button" icon="ui-icon-refresh"
  styleClass="secondary-btn card-button" rendered="#{!licenceBean.demo}" onclick="PF('renewLicence').show()" />
<p:panelGrid rendered="#{!licenceBean.demo}" columns="2" columnClasses="ui-grid-col-4, ui-grid-col-8" layout="grid"
  styleClass="ui-panelgrid-blank grey-label-panel">
  <label>Owner</label>
  <h:outputText value="#{licenceBean.organisation}" />
  <label>Licence Type</label>
  <h:outputText value="#{licenceBean.licenceType}" />
  <label>Expries</label>
  <h:outputText value="#{licenceBean.expiryDate}" />
  <label>Users</label>
  <h:outputText value="#{licenceBean.users}" />
  <label>Sessions</label>
  <h:outputText value="#{licenceBean.sessions}" />
</p:panelGrid>
<p:panelGrid rendered="#{licenceBean.demo}" columns="1" columnClasses="ui-grid-col-12" layout="grid"
  styleClass="ui-panelgrid-blank">
  <h:outputText value="No licence installed. Your engine runs in demo mode." />
  <p:commandButton id="uploadLicenceBtn" type="button" value="Upload Licence" 
    icon="ui-icon-cloud-upload" onclick="PF('fileUploadModal').show()" />
</p:panelGrid>
<cc:RenewLicence id="renewLicence" title="Renew Licence"/>
<cc:FileUpload id="licenceUpload" apiUrl="#{advisorBean.app}/licence" title="Licence Upload" acceptFiles=".lic" />
<ui:include src="../../dialogs/licenceinfo.xhtml" />
</html>