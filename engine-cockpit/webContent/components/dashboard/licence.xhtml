<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:pm="http://primefaces.org/mobile">

<f:facet name="header">
  <i class="material-icons table-icon panel-title-icon">vpn_key</i>
  <h:outputText value="Licence" />
</f:facet>
<p:commandButton id="tasksButtonLicenceDetail" onclick="PF('licenceDetailDialog').show();" title="Licence Details" type="button"
  icon="ui-icon-info" styleClass="secondary-btn card-button" />
<p:commandButton id="tasksButtonLicence" title="Configure Licence" type="button" icon="ui-icon-settings"
  styleClass="secondary-btn card-button" rendered="false" />
<p:panelGrid rendered="#{!licenceBean.demo}" columns="2" columnClasses="ui-grid-col-4, ui-grid-col-8" layout="grid"
  styleClass="ui-panelgrid-blank grey-label-panel">
  <label>Owner</label>
  <h:outputText value="#{licenceBean.organisation}" />
  <label>Licence Type</label>
  <h:outputText value="#{licenceBean.licenceType}" />
  <label>Expries</label>
  <h:outputText value="#{licenceBean.expiryDate}" />
</p:panelGrid>
<p:panelGrid rendered="#{licenceBean.demo}" columns="1" columnClasses="ui-grid-col-12" layout="grid"
  styleClass="ui-panelgrid-blank">
  <h:outputText value="No licence installed. Your engine runs in demo mode." />
  <p:button href="#" rendered="false" value="Upload Licence" icon="ui-icon-cloud-upload" />
</p:panelGrid>
<p:dialog id="licenceDetailDialog" header="Licence Detail" widgetVar="licenceDetailDialog" modal="true" closeOnEscape="true">
  <h:form id="licenceInfoForm">
    <p:panelGrid id="detailsList">
      <ui:repeat var="property" value="#{licenceBean.licenceProperties.entrySet().toArray()}">
        <p:row>
          <p:column>
            <h:outputText value="#{property.key}" />
          </p:column>
          <p:column>
            <h:outputText value="#{property.value eq '0' or '' ? 'Unlimited' : property.value}" />
          </p:column>
        </p:row>
      </ui:repeat>
    </p:panelGrid>
  </h:form>
</p:dialog>
</html>