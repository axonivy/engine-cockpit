<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:pm="http://primefaces.org/mobile">

<h:form id="membersOfRoleForm">
  <p:autoComplete id="addMemberDropDown" value="#{roleDetailBean.roleMemberName}" dropdown="true" forceSelection="true"
    completeMethod="#{roleBean.searchMember}" style="margin-bottom:10px;" styleClass="card-autocomplete-search" />
  <p:commandButton id="addMemberToRoleBtn" update="membersOfRoleForm" actionListener="#{roleDetailBean.addMember}"
    icon="ui-icon-add" title="Add" styleClass="primary-btn" />
  <p:growl for="membersMessage" autoUpdate="true" />
  <p:dataTable value="#{roleDetailBean.membersOfRole}" widgetVar="membersOfRoleTable" var="member"
    filteredValue="#{roleDetailBean.filteredMembers}" lazy="false">
    <f:facet name="header">
      <p:outputPanel>
        <p:outputLabel styleClass="table-search-icon">
          <i class="material-icons">search</i>
        </p:outputLabel>
        <p:inputText styleClass="table-search-input-withicon" id="globalFilter"
          onkeyup="PF('membersOfRoleTable').filter()" placeholder="Search" />
      </p:outputPanel>
    </f:facet>
    <p:column headerText="Members Of Role" sortBy="#{member.name}" filterBy="#{member.name}">
      <h:outputText value="#{member.name}">
        <i class="material-icons table-icon">people</i>
        <p:commandButton update="membersOfRoleForm" actionListener="#{roleDetailBean.removeMember(member.name)}"
          icon="ui-icon-remove" title="Remove" styleClass="card-button table-control-btn secondary-btn" />
      </h:outputText>
    </p:column>
  </p:dataTable>
</h:form>
</html>