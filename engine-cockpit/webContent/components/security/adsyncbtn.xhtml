<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:pm="http://primefaces.org/mobile" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<p:commandButton id="panelSyncBtn" widgetVar="syncAdButton" rendered="#{!securityBean.ivySecurityForSelectedApp}"
  icon="fa fa-refresh #{securityBean.syncRunningForSelectedApp ? 'fa-spin' : ''} spin-icon" type="button"
  value="Synchronize" onclick="PF('logPoller').start()">
  <p:ajax listener="#{securityBean.triggerSyncForSelectedApp}" update="@this" />
</p:commandButton>
<p:poll widgetVar="logPoller" autoStart="#{securityBean.syncRunningForSelectedApp}" interval="2" update="@form" />
</html>