<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
  xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:pm="http://primefaces.org/mobile">

<f:facet name="header">
  <i class="material-icons table-icon panel-title-icon">info</i>
  <h:outputText value="Security System" />
</f:facet>
<h:form id="securitySystemConfigForm">
  <p:growl id="securitySystemConfigSaveSuccess" for="securitySystemConfigSaveSuccess" autoUpdate="true"/>
  <p:commandButton title="Save" icon="ui-icon-save" id="saveSecuritySystemConfigBtn"
    styleClass="primary-btn card-button" actionListener="#{securityConfigDetailBean.saveConfiguration}" />

  <p:panelGrid columns="2" columnClasses="ui-grid-col-5, ui-grid-col-7"
    layout="grid" styleClass="ui-panelgrid-blank">

    <p:outputLabel value="Provider" />
    <p:outputLabel id="provider" value="#{securityConfigDetailBean.provider}" />

    <p:outputLabel value="URL" />
    <p:inputText id="url" value="#{securityConfigDetailBean.url}"
      placeholder="#{securityDefaultValueBean.url}" />

    <p:outputLabel value="User Name" />
    <p:inputText id="userName"
      value="#{securityConfigDetailBean.userName}" />

    <p:outputLabel value="Password" />
    <p:inputText type="password" id="password"
      value="#{securityConfigDetailBean.password}" />

    <p:outputLabel value="Use LDAP Connection Pool" />
    <p:selectBooleanCheckbox id="ldapConnectionPool"
      value="#{securityConfigDetailBean.useLdapConnectionPool}" />

    <p:outputLabel value="Use SSL" />
    <p:selectBooleanCheckbox id="useSsl"
      value="#{securityConfigDetailBean.ssl}" />

    <p:outputLabel value="Synchronization Time" />
    <h:panelGroup>
      <p:inputMask id="syncTime" value="#{securityConfigDetailBean.updateTime}" mask="99:99" placeholder="#{securityDefaultValueBean.updatetime}" />
      <p:messages for="syncTime" id="syncTimeMessage" autoUpdate="true" showDetail="true"/>
    </h:panelGroup>

    <p:outputLabel value="Dereference Aliases" />
    <p:selectOneMenu id="derefAliasesDropDown"
      value="#{securityConfigDetailBean.derefAlias}"
      placeholder="always">
      <f:selectItems value="#{securityConfigDetailBean.derefAliases}" />
      <p:ajax update="@form" />
    </p:selectOneMenu>

    <p:outputLabel value="Referral" />
    <p:selectOneMenu id="ReferralDropDown"
      value="#{securityConfigDetailBean.referral}"
      placeholder="follow">
      <f:selectItems value="#{securityConfigDetailBean.referrals}" />
      <p:ajax update="@form" />
    </p:selectOneMenu>

    <p:outputLabel value="Used by applications" />
    <ui:repeat var="app" value="#{securityConfigDetailBean.usedByApps}" varStatus="status">
      <a href="application-detail.xhtml?appName=#{app}">#{app}</a>
      <h:outputText value="#{status.last ? '' : ' / '}"/>
    </ui:repeat>
  </p:panelGrid>
</h:form>
</html>